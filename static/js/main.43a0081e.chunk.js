(this["webpackJsonpsafe-csv-uloader"]=this["webpackJsonpsafe-csv-uloader"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),i=a.n(r),o=(a(120),a(121),a(28)),s=a(191),l=a(156),d=a(207),p=a(188),u=a(10),j=a(193),b=a(91),h=a.n(b),g=a(92),O=a.n(g),m=a(45),f=a(72),x=a.n(f),y=a(29),E=a.n(y),v=a(48),S={EMPLOYEES_REQUESTED:"all/EMPLOYEES_REQUESTED",EMPLOYEES_RECEIVED:"all/EMPLOYESS_RECEIVED",EMPLOYEES_ERROR:"all/EMPLOYEES_ERROR",CSV_UPLOAD_REQUESTED:"one/CSV_UPLOAD_REQUESTED",CSV_UPLOAD_RECEIVED:"one/CSV_UPLOAD_RECEIVED",CSV_UPLOAD_ERROR:"one/CSV_UPLOAD_ERROR"},P=a(74),R=a.n(P),L="https://safe-csv-uploader.herokuapp.com/",w=function(e,t,a){return R.a.get(L+"api/employee?pageNumber="+e+"&pageLimit="+t+"&employeeName="+a)},C=function(e){return R.a.post(L+"api/employee",e,{headers:{"Content-Type":"multipart/form-data"}})},k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(v.a)(E.a.mark((function n(c){var r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:S.EMPLOYEES_REQUESTED}),n.prev=1,n.next=4,w(e,t,a);case 4:r=n.sent,c({type:S.EMPLOYEES_RECEIVED,payload:{employeeList:r.data}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),c({type:S.EMPLOYEES_ERROR,error:"API to get employee list is failed with error : "+n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S.CSV_UPLOAD_REQUESTED}),t.prev=1,t.next=4,C(e);case 4:(n=t.sent).data.success&&a({type:S.CSV_UPLOAD_RECEIVED,payload:{uploadStatus:n.data}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:S.CSV_UPLOAD_ERROR,error:"API to upload employees is failed with error : "+t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},D=a(33),I=a(2),T=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(o.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(o.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(u.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(u.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(o.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function V(){var e=T(),t=Object(D.c)(),a=x.a.debounce((function(e){t(k(1,5,e)),t(function(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"SET_SEARCH_KEY",payload:{searchKey:e}})}catch(n){console.log("something went wrong while setting search key")}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),1e3);return Object(I.jsx)("div",{className:e.root,children:Object(I.jsx)(s.a,{position:"static",children:Object(I.jsxs)(j.a,{children:[Object(I.jsx)(l.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(I.jsx)(h.a,{})}),Object(I.jsx)(l.a,{edge:"start",component:m.b,to:"/",style:{marginRight:"2"},color:"inherit","aria-label":"menu",children:"Upload CSV"}),Object(I.jsx)(l.a,{edge:"start",component:m.b,to:"/viewEmployees",style:{marginRight:"2"},color:"inherit","aria-label":"menu",children:"viewEmployees"}),Object(I.jsxs)("div",{className:e.search,children:[Object(I.jsx)("div",{className:e.searchIcon,children:Object(I.jsx)(O.a,{})}),Object(I.jsx)(d.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){a(e.target.value)},inputProps:{"aria-label":"search"}})]})]})})})}var A=a(93),N=a(94),U=a(102),M=a(101),Y=a(18),B=a(205),K=a(201),F=a(155),Q=a(202),H=a(199),J=a(200),q=a(196),G=a(198),z=a(204),W=a(195),X=a(194),Z=a(208);function $(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,c=e.orderBy,r=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(I.jsx)(X.a,{style:{boxShadow:"10px 10px #f2f2f2"},children:Object(I.jsxs)(W.a,{children:[Object(I.jsx)(q.a,{padding:"checkbox",children:Object(I.jsx)(B.a,{indeterminate:r>0&&r<i,checked:i>0&&r===i,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),[{id:"id",numeric:!1,disablePadding:!0,label:"Id"},{id:"name",numeric:!0,disablePadding:!0,label:"Name"},{id:"age",numeric:!0,disablePadding:!1,label:"Age"},{id:"dateOfBirth",numeric:!0,disablePadding:!1,label:"Date Of Birth"},{id:"reportingManager",numeric:!0,disablePadding:!1,label:"Reporting Manager"},{id:"salary",numeric:!0,disablePadding:!1,label:"Salary"},{id:"department",numeric:!0,disablePadding:!1,label:"Department"}].map((function(e){return Object(I.jsx)(q.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n,children:Object(I.jsxs)(Z.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(a=e.id,function(e){o(e,a)}),children:[e.label,c===e.id?Object(I.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))]})})}var ee=a(4),te=a(157),ae=a(209),ne=a(96),ce=a.n(ne),re=a(97),ie=a.n(re);function oe(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function se(e,t){return"desc"===e?function(e,a){return oe(e,a,t)}:function(e,a){return-oe(e,a,t)}}function le(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var de=Object(p.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(u.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),pe=Object(p.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ue=function(e){var t=de(),a=e.numSelected;return Object(I.jsxs)(j.a,{className:Object(ee.a)(t.root,Object(o.a)({},t.highlight,a>0)),children:[a>0?Object(I.jsxs)(te.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(I.jsx)(te.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Employee Details"}),a>0?Object(I.jsx)(ae.a,{title:"Delete",children:Object(I.jsx)(l.a,{"aria-label":"delete",children:Object(I.jsx)(ce.a,{})})}):Object(I.jsx)(ae.a,{title:"Filter list",children:Object(I.jsx)(l.a,{"aria-label":"filter list",id:"testing",children:Object(I.jsx)(ie.a,{})})})]})};function je(e){var t=pe(),a=c.a.useState("asc"),n=Object(Y.a)(a,2),r=n[0],i=n[1],o=c.a.useState("id"),s=Object(Y.a)(o,2),l=s[0],d=s[1],p=c.a.useState([]),u=Object(Y.a)(p,2),j=u[0],b=u[1],h=c.a.useState(!1),g=Object(Y.a)(h,2),O=g[0],m=g[1],f=e.data;return Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsxs)(F.a,{className:t.paper,children:[Object(I.jsx)(ue,{numSelected:j.length}),Object(I.jsx)(G.a,{children:Object(I.jsxs)(H.a,{className:t.table,"aria-labelledby":"tableTitle",size:O?"small":"medium","aria-label":"enhanced table",children:[Object(I.jsx)($,{classes:t,numSelected:j.length,order:r,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var t=f.map((function(e){return e.id}));b(t)}else b([])},onRequestSort:function(e,t){i(l===t&&"asc"===r?"desc":"asc"),d(t)},rowCount:f.length}),Object(I.jsx)(J.a,{children:le(f,se(r,l)).slice(0,e.pageLimit).map((function(e,t){var a,n=(a=e.id,-1!==j.indexOf(a)),c="enhanced-table-checkbox-".concat(t);return Object(I.jsxs)(W.a,{hover:!0,onClick:function(t){return function(e,t){var a=j.indexOf(t),n=[];-1===a?n=n.concat(j,t):0===a?n=n.concat(j.slice(1)):a===j.length-1?n=n.concat(j.slice(0,-1)):a>0&&(n=n.concat(j.slice(0,a),j.slice(a+1))),b(n)}(0,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(I.jsx)(q.a,{padding:"checkbox",children:Object(I.jsx)(B.a,{checked:n,inputProps:{"aria-labelledby":c}})}),Object(I.jsx)(q.a,{component:"th",id:c,scope:"row",padding:"none",children:e.id}),Object(I.jsx)(q.a,{align:"right",children:e.name}),Object(I.jsx)(q.a,{align:"right",children:e.age}),Object(I.jsx)(q.a,{align:"right",children:e.dateOfBirth||e.date_of_birth}),Object(I.jsx)(q.a,{align:"right",children:e.reportingManager||e.reporting_manager}),Object(I.jsx)(q.a,{align:"right",children:e.salary}),Object(I.jsx)(q.a,{align:"right",children:e.department})]},e.id)}))})]})}),Object(I.jsx)(z.a,{rowsPerPageOptions:[5,10,25,50,100,200],component:"div",count:e.TotalRows,rowsPerPage:e.pageLimit,page:e.currentPage-1,onChangePage:function(t,a){e.setData(a+1,e.pageLimit,e.searchKey)},onChangeRowsPerPage:function(t){e.setData(1,parseInt(t.target.value,10),e.searchKey)}})]}),Object(I.jsx)(K.a,{control:Object(I.jsx)(Q.a,{checked:O,onChange:function(e){m(e.target.checked)}}),label:"Dense padding"})]})}var be=function(e){Object(U.a)(a,e);var t=Object(M.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).setData=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.props.dispatch(k(t,a,n))},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(k(1,5))}},{key:"render",value:function(){var e=this.props,t=(e.error,e.isLoading,e.employeeList),a=e.TotalPages,n=e.TotalEmployeesCount,c=e.currentPage,r=e.pageLimit,i=e.searchKey;return Object(I.jsx)(je,{data:t,pageLimit:r,setData:this.setData,totalPages:a,currentPage:c,TotalRows:n,searchKey:i})}}]),a}(c.a.Component),he=Object(D.b)((function(e,t){return{employeeList:e.employeeReducer.employeeList,error:e.employeeReducer.error,isLoading:e.employeeReducer.isLoading,TotalPages:e.employeeReducer.totalPages,TotalEmployeesCount:e.employeeReducer.totalEmployeesCount,currentPage:e.employeeReducer.currentPage,pageLimit:e.employeeReducer.pageLimit,searchKey:e.employeeReducer.searchKey}}))(be),ge=a(203),Oe=a(73),me=a.n(Oe);function fe(e){var t=pe(),a=c.a.useState("asc"),n=Object(Y.a)(a,2),r=n[0],i=n[1],o=c.a.useState("id"),s=Object(Y.a)(o,2),l=s[0],d=s[1],p=c.a.useState([]),u=Object(Y.a)(p,2),j=u[0],b=u[1],h=c.a.useState(0),g=Object(Y.a)(h,2),O=g[0],m=g[1],f=c.a.useState(!1),x=Object(Y.a)(f,2),y=x[0],E=x[1],v=c.a.useState(5),S=Object(Y.a)(v,2),P=S[0],R=S[1],L=e.data,w=P-Math.min(P,L.length-O*P);return Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsxs)(F.a,{className:t.paper,children:[Object(I.jsx)(ue,{numSelected:j.length}),Object(I.jsx)(G.a,{children:Object(I.jsxs)(H.a,{className:t.table,"aria-labelledby":"tableTitle",size:y?"small":"medium","aria-label":"enhanced table",children:[Object(I.jsx)($,{classes:t,numSelected:j.length,order:r,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var t=L.map((function(e){return e.id}));b(t)}else b([])},onRequestSort:function(e,t){console.log("property........"+t),i(l===t&&"asc"===r?"desc":"asc"),d(t)},rowCount:L.length}),Object(I.jsxs)(J.a,{children:[le(L,se(r,l)).slice(O*P,O*P+P).map((function(e,t){var a,n=(a=e.id,-1!==j.indexOf(a)),c="enhanced-table-checkbox-".concat(t);return Object(I.jsxs)(W.a,{hover:!0,onClick:function(t){return function(e,t){var a=j.indexOf(t),n=[];-1===a?n=n.concat(j,t):0===a?n=n.concat(j.slice(1)):a===j.length-1?n=n.concat(j.slice(0,-1)):a>0&&(n=n.concat(j.slice(0,a),j.slice(a+1))),b(n)}(0,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(I.jsx)(q.a,{padding:"checkbox",children:Object(I.jsx)(B.a,{checked:n,inputProps:{"aria-labelledby":c}})}),Object(I.jsx)(q.a,{component:"th",id:c,scope:"row",padding:"none",children:e.id}),Object(I.jsx)(q.a,{align:"right",children:e.name}),Object(I.jsx)(q.a,{align:"right",children:e.age}),Object(I.jsx)(q.a,{align:"right",children:e.dateOfBirth||e.date_of_birth}),Object(I.jsx)(q.a,{align:"right",children:e.reportingManager||e.reporting_manager}),Object(I.jsx)(q.a,{align:"right",children:e.salary}),Object(I.jsx)(q.a,{align:"right",children:e.department})]},e.id)})),w>0&&Object(I.jsx)(W.a,{style:{height:(y?33:53)*w},children:Object(I.jsx)(q.a,{colSpan:6})})]})]})}),Object(I.jsx)(z.a,{rowsPerPageOptions:[5,10,25],component:"div",count:L.length,rowsPerPage:P,page:O,onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){R(parseInt(e.target.value,10)),m(0)}})]}),Object(I.jsx)(K.a,{control:Object(I.jsx)(Q.a,{checked:y,onChange:function(e){E(e.target.checked)}}),label:"Dense padding"}),Object(I.jsx)(ge.a,{variant:"contained",color:"primary",onClick:function(){console.log("clear table clicked"),L.length=0,i("desc"==r?"asc":"desc"),R(5)},className:t.button,endIcon:Object(I.jsx)(me.a,{}),children:"clear"})]})}var xe=a(98),ye=a.n(xe),Ee=a(77),ve=a.n(Ee),Se=a(99),Pe=a.n(Se),Re=Object(p.a)((function(e){return{upload:{position:"fixed",bottom:e.spacing(22),right:e.spacing(50)}}})),Le=function(){Object(o.a)({id:"1",name:"Javed",age:"javedaktar73@gmail.com",dob:"31/5/1965",rm:"Jd",slr:"20",dpt:"CSE"},"age","50");var e=Re();return Object(I.jsx)("div",{children:Object(I.jsx)("label",{htmlFor:"file",children:Object(I.jsx)(ge.a,{variant:"contained",color:"primary",component:"span",className:e.upload,startIcon:Object(I.jsx)(Pe.a,{}),children:Object(I.jsx)("a",{style:{color:"white"},href:"sample.csv",download:"sample.csv",children:"Sample CSV"})})})})},we=a(13),Ce=Object(p.a)((function(e){return{import:{position:"fixed",bottom:e.spacing(22),right:e.spacing(2)},upload:{position:"fixed",bottom:e.spacing(22),right:e.spacing(26)}}})),ke=function(e){var t=Object(D.c)(),a=Ce(),c=Object(n.useState)(""),r=Object(Y.a)(c,2),i=r[0],o=r[1],s=Object(we.f)(),l=function(){var e=Object(v.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),(n=new FormData).append("file",i),t(_(n)),setTimeout((function(){return s.push("/viewEmployees")}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(ye.a,{cssClass:"react-csv-input",inputStyle:{display:"none"},inputId:"import-csv-file",parserOptions:{header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}},onFileLoaded:function(t,a){e.csv_data(t)}}),Object(I.jsx)("label",{htmlFor:"import-csv-file",children:Object(I.jsx)(ge.a,{variant:"contained",color:"primary",onClick:function(e){document.getElementById("import-csv-file").addEventListener("change",(function(e){o(e.target.files[0])}))},component:"span",className:a.import,startIcon:Object(I.jsx)(ve.a,{}),children:"Import CSV"})}),Object(I.jsx)(ge.a,{variant:"contained",color:"primary",onClick:l,component:"span",className:a.upload,startIcon:Object(I.jsx)(ve.a,{}),children:"Upload CSV"}),Object(I.jsx)(Le,{})]})},_e=function(){var e=Object(n.useState)([]),t=Object(Y.a)(e,2),a=t[0],c=t[1];return console.log(a),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(ke,{csv_data:function(e){c(e)}}),Object(I.jsx)(fe,{data:a}),Object(I.jsx)(Le,{})]})},De=a(55),Ie=a(19),Te={employeeList:[],isLoading:!1,selectedEmployee:{},uploadStatus:!1,totalPages:0,totalEmployeesCount:0,currentPage:0,limit:5,error:"",searchKey:""},Ve=Object(De.b)({employeeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.EMPLOYEES_REQUESTED:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:"",employeeList:[],isLoading:!0});case S.EMPLOYEES_RECEIVED:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:"",employeeList:t.payload.employeeList.data||[],selectedEmployee:t.payload.employeeList.data[0]||{},totalPages:t.payload.employeeList.totalPages,totalEmployeesCount:t.payload.employeeList.total,currentPage:t.payload.employeeList.currentPage,pageLimit:t.payload.employeeList.limit,isLoading:!1});case S.EMPLOYEES_ERROR:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.error||"Something went wrong while fetching employees list",isLoading:!1});case S.CSV_UPLOAD_REQUESTED:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.error||"",uploadStatus:!1,isLoading:!1});case S.CSV_UPLOAD_RECEIVED:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:"",uploadStatus:t.payload.uploadStatus.success||!1,isLoading:!1});case S.CSV_UPLOAD_ERROR:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.error||"Something went wrong while uploading csv",isLoading:!1});case"SET_SEARCH_KEY":return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.error||"Something went wrong while uploading csv",searchKey:t.payload.searchKey||""});default:return e}}}),Ae=a(100),Ne=Object(De.c)(Ve,Object(De.a)(Ae.a));var Ue=function(){return Object(I.jsx)(D.a,{store:Ne,children:Object(I.jsx)(m.a,{children:Object(I.jsxs)("div",{style:{flexGrow:1},children:[Object(I.jsx)(V,{}),Object(I.jsxs)(we.c,{children:[Object(I.jsx)(we.a,{exact:!0,path:"/",component:_e}),Object(I.jsx)(we.a,{path:"/viewEmployees",component:he})]})]})})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(Ue,{})}),document.getElementById("root")),Me()}},[[153,1,2]]]);
//# sourceMappingURL=main.43a0081e.chunk.js.map